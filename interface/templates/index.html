{% load static %}
<!DOCTYPE html>
<html lang="zh-Hans">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="csrf-token" content="{{ csrf_token }}">
        <title>{% block title %}红卡{% endblock %}</title>
        <script src="https://unpkg.com/htmx.org"></script>
        <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=ZCOOL+XiaoWei&display=swap" rel="stylesheet">
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
            .chinese-bg {
                background-image: url('{% static "images/preview.jpg" %}');
                background-size: 400px;
                opacity: 0.15;
            }
        </style>
    </head>
    <body class="bg-red-50 relative min-h-screen">
        <!-- Decorative Elements -->
        <div class="absolute inset-0 chinese-bg pointer-events-none"></div>
        <!-- Navigation -->
        <nav class="bg-red-800 text-yellow-100 shadow-sm">
            <div class="max-w-7xl mx-auto px-4 py-3">
                <div class="flex justify-between items-center">
                    <a href="{% url 'home' %}" class="text-xl font-chinese text-yellow-100 flex items-center">
                        <img src="{% static 'images/dragon_6536253.png' %}" class="h-8 w-8 mr-2" alt="dragon logo">
                        Red Card
                    </a>
                    
                    <div class="flex items-center space-x-4">
                        {% if user.is_authenticated %}
                            <a href="{% url 'profile' %}" 
                               class="px-3 py-2 hover:text-red-200 transition-colors font-chinese">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-1" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
                                </svg>
                                Profile
                            </a>
                            <a href="{% url 'upload' %}" 
                               class="px-3 py-2 hover:text-red-200 transition-colors font-chinese">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-1" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                                </svg>
                                Upload
                            </a>
                            <a href="{% url 'logout' %}" 
                               class="px-3 py-2 hover:text-red-200 transition-colors font-chinese">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-1" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z" clip-rule="evenodd" />
                                </svg>
                                Logout
                            </a>
                        {% else %}
                            <a href="{% url 'login' %}" 
                               class="px-3 py-2 hover:text-red-200 transition-colors font-chinese">
                                Login
                            </a>
                            <a href="{% url 'register' %}" 
                               class="px-3 py-2 hover:text-red-200 transition-colors font-chinese">
                                Register
                            </a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="relative z-10 container mx-auto px-4 py-8">
            {% block content %}{% endblock %}
        </main>

        <!-- Footer -->
        <footer class="bg-red-900 text-yellow-100 mt-12 py-4">
            <div class="max-w-7xl mx-auto text-center font-chinese">
                <p>智慧如江河，学问似海洋</p>
                <p>© 2024 红卡记忆系统</p>
            </div>
        </footer>

        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        colors: {
                            'imperial-red': '#cb1b16',
                            'chinese-gold': '#ffd700',
                            'ink-black': '#2a2a2a'
                        },
                        fontFamily: {
                            chinese: ['"Ma Shan Zheng"', 'cursive'],
                            body: ['"ZCOOL XiaoWei"', 'serif']
                        }
                    }
                }
            }
        </script>
    </body>
</html>